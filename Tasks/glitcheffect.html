<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Creative Code</title>
    <script src="/libraries/p5.min.js"></script>
    <script src="/libraries/quicksettings.js"></script>
    <script src="/libraries/p5.gui.js"></script>
    <script src="/libraries/quicksettings.js"></script>
  </head>
  <body>
    <a href="../index.html">Back</a>
    <center>
      <div class="tag" id="tag1">
        <h2>Tag 2</h2>
        <h4>Task</h4>
        <p>Create an image glitch effect</p>
       
      </div>
    </center>
    <canvas id="mycanvas" width="400" height="400"></canvas>
  </body>
</html>
<script>
  let img;

  // Lade das Bild
  function preload() {
    img = loadImage("../images/lixus.png"); 
  }

  function setup() {
    createCanvas(400, 400);
    image(img, 0, 0, width, height); 
  }

  function draw() {
    loadPixels();
    for (let i = 0; i < pixels.length; i += 4) {
      // Begrenze die Farbänderungen auf einen bestimmten Bereich
      let r = pixels[i];
      let g = pixels[i + 1];
      let b = pixels[i + 2];
      
      // Füge eine zufällige Farbabweichung hinzu
      pixels[i] = constrain(r + random(-20, 20), 0, 255); // Rot
      pixels[i + 1] = constrain(g + random(-20, 20), 0, 255); // Grün
      pixels[i + 2] = constrain(b + random(-20, 20), 0, 255); // Blau
      // pixels[i + 3] bleibt unverändert, um die Transparenz beizubehalten
    }
    updatePixels();
  }
</script>