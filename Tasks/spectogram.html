<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Creative Code</title>
    <script src="../libraries/p5.min.js"></script>
    <script src="../libraries/quicksettings.js"></script>
    <script src="../libraries/p5.gui.js"></script>
    <script src="../libraries/quicksettings.js"></script>
  </head>
  <body>
    <nav><a href="../index.html">Back</a></nav>

    <center>
      <h2>Tag 7</h2>
      <h4>Task</h4>
    </center>
  </body>
</html>
<script>
  let cols, rows;
  let scl = 20;
  let w = 1400;
  let h = 1000;
  let terrain = [];
  let flying = 0;
  let angleX = 0;
  let angleY = 0;

  function setup() {
    createCanvas(windowWidth, windowHeight, WEBGL);
    cols = w / scl;
    rows = h / scl;

    for (let x = 0; x < cols; x++) {
      terrain[x] = [];
      for (let y = 0; y < rows; y++) {
        terrain[x][y] = 0; // Initialisiere die HÃ¶henwerte
      }
    }
  }

  function draw() {
    flying -= 0.05;
    let yoff = flying;
    for (let y = 0; y < rows; y++) {
      let xoff = 0;
      for (let x = 0; x < cols; x++) {
        terrain[x][y] = map(noise(xoff, yoff), 0, 1, -100, 100);
        xoff += 0.1;
      }
      yoff += 0.1;
    }

    background(0);
    stroke(255);
    noFill();
    translate(0, 50);
    rotateX(angleX);
    rotateY(angleY);
    translate(-w / 2, -h / 2);

    for (let y = 0; y < rows - 1; y++) {
      beginShape(TRIANGLE_STRIP);
      for (let x = 0; x < cols; x++) {
        vertex(x * scl, y * scl, terrain[x][y]);
        vertex(x * scl, (y + 1) * scl, terrain[x][y + 1]);
      }
      endShape();
    }
  }

  function mouseDragged() {
    angleY += movedX * 0.01;
    angleX -= movedY * 0.01;
  }

  function windowResized() {
    resizeCanvas(windowWidth, windowHeight);
  }
</script>
